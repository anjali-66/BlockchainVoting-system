{"ast":null,"code":"import { getClientFetch } from \"../utils/fetch.js\";\nimport { getPayBuyHistoryEndpoint } from \"./utils/definitions.js\";\n/**\n * Get Buy transaction history for a given wallet address.\n *\n * This includes both \"Buy with Cryto\" and \"Buy with Fiat\" transactions\n *\n * @param params Object of type [`BuyHistoryParams`](https://portal.thirdweb.com/references/typescript/v5/BuyHistoryParams)\n * @example\n * ```ts\n * import { createThirdwebClient } from \"thirdweb\";\n * import { getBuyHistory } from \"thirdweb/pay\";\n *\n * const client = createThirdwebClient({ clientId: \"...\" });\n *\n * const history = await getBuyHistory({\n *  client,\n *  walletAddress: \"0x...\",\n * })\n * ```\n * @buyCrypto\n */\nexport async function getBuyHistory(params) {\n  try {\n    const queryParams = new URLSearchParams();\n    queryParams.append(\"walletAddress\", params.walletAddress);\n    queryParams.append(\"start\", params.start.toString());\n    queryParams.append(\"count\", params.count.toString());\n    const queryString = queryParams.toString();\n    const url = `${getPayBuyHistoryEndpoint()}?${queryString}`;\n    const response = await getClientFetch(params.client)(url);\n    // Assuming the response directly matches the SwapResponse interface\n    if (!response.ok) {\n      response.body?.cancel();\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = (await response.json()).result;\n    return data;\n  } catch (error) {\n    throw new Error(`Fetch failed: ${error}`);\n  }\n}\n//# sourceMappingURL=getBuyHistory.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}