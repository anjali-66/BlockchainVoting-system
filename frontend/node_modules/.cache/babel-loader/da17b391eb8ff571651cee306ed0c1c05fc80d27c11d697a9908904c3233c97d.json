{"ast":null,"code":"import { getThirdwebBaseUrl } from \"../../../../utils/domains.js\";\nimport { getClientFetch } from \"../../../../utils/fetch.js\";\nimport { stringify } from \"../../../../utils/json.js\";\nexport async function signTransaction({\n  client,\n  payload,\n  storage\n}) {\n  const authToken = await storage.getAuthCookie();\n  const ecosystem = storage.ecosystem;\n  const clientFetch = getClientFetch(client, ecosystem);\n  if (!authToken) {\n    throw new Error(\"No auth token found when signing transaction\");\n  }\n  const response = await clientFetch(`${getThirdwebBaseUrl(\"inAppWallet\")}/api/v1/enclave-wallet/sign-transaction`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"x-thirdweb-client-id\": client.clientId,\n      Authorization: `Bearer embedded-wallet-token:${authToken}`\n    },\n    body: stringify({\n      transactionPayload: payload\n    })\n  });\n  if (!response.ok) {\n    throw new Error(`Failed to sign transaction - ${response.status} ${response.statusText}`);\n  }\n  const signedTransaction = await response.json();\n  return signedTransaction.signature;\n}\n//# sourceMappingURL=sign-transaction.enclave.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}