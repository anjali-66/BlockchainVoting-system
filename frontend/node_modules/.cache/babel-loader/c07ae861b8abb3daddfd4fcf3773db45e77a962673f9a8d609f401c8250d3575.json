{"ast":null,"code":"import { useMutation } from \"@tanstack/react-query\";\nimport { waitForReceipt } from \"../../../../transaction/actions/wait-for-tx-receipt.js\";\nimport { stringify } from \"../../../../utils/json.js\";\nexport const useTransactionButtonMutation = (props, sendTransactionFn) => {\n  const {\n    transaction,\n    onTransactionSent,\n    onTransactionConfirmed,\n    onError,\n    onClick\n  } = props;\n  return useMutation({\n    mutationFn: async () => {\n      if (onClick) {\n        onClick();\n      }\n      try {\n        const resolvedTx = await transaction();\n        const result = await sendTransactionFn(resolvedTx);\n        if (onTransactionSent) {\n          onTransactionSent(result);\n        }\n        if (onTransactionConfirmed) {\n          const receipt = await waitForReceipt(result);\n          if (receipt.status === \"reverted\") {\n            throw new Error(`Execution reverted: ${stringify(receipt, null, 2)}`);\n          }\n          onTransactionConfirmed(receipt);\n        }\n      } catch (error) {\n        if (onError) {\n          onError(error);\n        }\n      } finally {}\n    }\n  });\n};\n//# sourceMappingURL=transaction-button-utils.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}