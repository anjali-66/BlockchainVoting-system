{"ast":null,"code":"import { getGasPrice } from \"../gas/get-gas-price.js\";\nimport { estimateGasCost } from \"./actions/estimate-gas-cost.js\";\n/**\n * @internal\n */\nexport function isAbiFunction(item) {\n  return !!(item && typeof item === \"object\" && \"type\" in item && item.type === \"function\");\n}\nexport async function getTransactionGasCost(tx, from) {\n  try {\n    const gasCost = await estimateGasCost({\n      transaction: tx,\n      from\n    });\n    const bufferCost = gasCost.wei / 10n;\n    // Note: get tx.value AFTER estimateGasCost\n    // add 10% extra gas cost to the estimate to ensure user buys enough to cover the tx cost\n    return gasCost.wei + bufferCost;\n  } catch {\n    if (from) {\n      // try again without passing from\n      return await getTransactionGasCost(tx);\n    }\n    // fallback if both fail, use the tx value + 1M * gas price\n    const gasPrice = await getGasPrice({\n      client: tx.client,\n      chain: tx.chain\n    });\n    return 1000000n * gasPrice;\n  }\n}\n//# sourceMappingURL=utils.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}