{"ast":null,"code":"import { serializeTransaction } from \"viem\";\nimport { getContract } from \"../contract/contract.js\";\nimport { toSerializableTransaction } from \"../transaction/actions/to-serializable-transaction.js\";\nimport { readContract } from \"../transaction/read-contract.js\";\nconst OPStackGasPriceOracleAddress = \"0x420000000000000000000000000000000000000F\";\n/**\n * @internal\n */\nexport async function estimateL1Fee(options) {\n  const {\n    transaction,\n    gasPriceOracleAddress\n  } = options;\n  const oracleContract = getContract({\n    client: transaction.client,\n    address: gasPriceOracleAddress || OPStackGasPriceOracleAddress,\n    chain: transaction.chain\n  });\n  // purposefully remove gasPrice from the transaction\n  const {\n    gasPrice,\n    ...serializableTx\n  } = await toSerializableTransaction({\n    transaction\n  });\n  const serialized = serializeTransaction({\n    ...serializableTx,\n    type: \"eip1559\"\n  });\n  //serializeTransaction(transaction);\n  return readContract({\n    contract: oracleContract,\n    method: \"function getL1Fee(bytes memory _data) view returns (uint256)\",\n    params: [serialized]\n  });\n}\n//# sourceMappingURL=estimate-l1-fee.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}