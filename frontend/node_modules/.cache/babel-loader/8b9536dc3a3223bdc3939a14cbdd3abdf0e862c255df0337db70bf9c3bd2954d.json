{"ast":null,"code":"// Copyright (c) 2018-2023 Coinbase, Inc. <https://www.coinbase.com/>\nimport { clsx } from 'clsx';\nimport { h, render } from 'preact';\nimport { useEffect, useState } from 'preact/hooks';\nimport { isDarkMode } from '../util.js';\nimport css from './Snackbar-css.js';\nconst cblogo = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+`;\nconst gearIcon = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=`;\nexport class Snackbar {\n  constructor() {\n    this.items = new Map();\n    this.nextItemKey = 0;\n    this.root = null;\n    this.darkMode = isDarkMode();\n  }\n  attach(el) {\n    this.root = document.createElement('div');\n    this.root.className = '-cbwsdk-snackbar-root';\n    el.appendChild(this.root);\n    this.render();\n  }\n  presentItem(itemProps) {\n    const key = this.nextItemKey++;\n    this.items.set(key, itemProps);\n    this.render();\n    return () => {\n      this.items.delete(key);\n      this.render();\n    };\n  }\n  clear() {\n    this.items.clear();\n    this.render();\n  }\n  render() {\n    if (!this.root) {\n      return;\n    }\n    render(h(\"div\", null, h(SnackbarContainer, {\n      darkMode: this.darkMode\n    }, Array.from(this.items.entries()).map(([key, itemProps]) => h(SnackbarInstance, Object.assign({}, itemProps, {\n      key: key\n    }))))), this.root);\n  }\n}\nexport const SnackbarContainer = props => h(\"div\", {\n  class: clsx('-cbwsdk-snackbar-container')\n}, h(\"style\", null, css), h(\"div\", {\n  class: \"-cbwsdk-snackbar\"\n}, props.children));\nexport const SnackbarInstance = ({\n  autoExpand,\n  message,\n  menuItems\n}) => {\n  const [hidden, setHidden] = useState(true);\n  const [expanded, setExpanded] = useState(autoExpand !== null && autoExpand !== void 0 ? autoExpand : false);\n  useEffect(() => {\n    const timers = [window.setTimeout(() => {\n      setHidden(false);\n    }, 1), window.setTimeout(() => {\n      setExpanded(true);\n    }, 10000)];\n    return () => {\n      timers.forEach(window.clearTimeout);\n    };\n  });\n  const toggleExpanded = () => {\n    setExpanded(!expanded);\n  };\n  return h(\"div\", {\n    class: clsx('-cbwsdk-snackbar-instance', hidden && '-cbwsdk-snackbar-instance-hidden', expanded && '-cbwsdk-snackbar-instance-expanded')\n  }, h(\"div\", {\n    class: \"-cbwsdk-snackbar-instance-header\",\n    onClick: toggleExpanded\n  }, h(\"img\", {\n    src: cblogo,\n    class: \"-cbwsdk-snackbar-instance-header-cblogo\"\n  }), ' ', h(\"div\", {\n    class: \"-cbwsdk-snackbar-instance-header-message\"\n  }, message), h(\"div\", {\n    class: \"-gear-container\"\n  }, !expanded && h(\"svg\", {\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, h(\"circle\", {\n    cx: \"12\",\n    cy: \"12\",\n    r: \"12\",\n    fill: \"#F5F7F8\"\n  })), h(\"img\", {\n    src: gearIcon,\n    class: \"-gear-icon\",\n    title: \"Expand\"\n  }))), menuItems && menuItems.length > 0 && h(\"div\", {\n    class: \"-cbwsdk-snackbar-instance-menu\"\n  }, menuItems.map((action, i) => h(\"div\", {\n    class: clsx('-cbwsdk-snackbar-instance-menu-item', action.isRed && '-cbwsdk-snackbar-instance-menu-item-is-red'),\n    onClick: action.onClick,\n    key: i\n  }, h(\"svg\", {\n    width: action.svgWidth,\n    height: action.svgHeight,\n    viewBox: \"0 0 10 11\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, h(\"path\", {\n    \"fill-rule\": action.defaultFillRule,\n    \"clip-rule\": action.defaultClipRule,\n    d: action.path,\n    fill: \"#AAAAAA\"\n  })), h(\"span\", {\n    class: clsx('-cbwsdk-snackbar-instance-menu-item-info', action.isRed && '-cbwsdk-snackbar-instance-menu-item-info-is-red')\n  }, action.info)))));\n};\n//# sourceMappingURL=Snackbar.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}