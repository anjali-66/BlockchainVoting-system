{"ast":null,"code":"import { getLoginUrl } from \"../../../../wallets/in-app/core/authentication/getLoginPath.js\";\nfunction getBodyTitle(authOption) {\n  switch (authOption) {\n    case \"google\":\n      return \"Sign In - Google Accounts\";\n    default:\n      return `Sign In - ${authOption.slice(0, 1).toUpperCase()}${authOption.slice(1)}`;\n  }\n}\nfunction getWidthAndHeight(authOption) {\n  switch (authOption) {\n    case \"facebook\":\n      return {\n        width: 715,\n        height: 555\n      };\n    default:\n      return {\n        width: 350,\n        height: 500\n      };\n  }\n}\nfunction getOauthLoginPath(authOption, client, ecosystem) {\n  switch (authOption) {\n    case \"apple\":\n    case \"facebook\":\n    case \"google\":\n    case \"farcaster\":\n    case \"telegram\":\n    case \"github\":\n    case \"twitch\":\n    case \"steam\":\n    case \"line\":\n    case \"x\":\n    case \"guest\":\n    case \"coinbase\":\n    case \"discord\":\n      return getLoginUrl({\n        authOption,\n        client,\n        ecosystem\n      });\n    default:\n      throw new Error(`Unsupported auth option: ${authOption}`);\n  }\n}\n/**\n * @internal\n */\nexport function openOauthSignInWindow({\n  authOption,\n  themeObj,\n  client,\n  ecosystem\n}) {\n  // open the popup in the center of the screen\n  const {\n    height,\n    width\n  } = getWidthAndHeight(authOption);\n  const top = (window.innerHeight - height) / 2;\n  const left = (window.innerWidth - width) / 2;\n  const win = window.open(getOauthLoginPath(authOption, client, ecosystem), undefined, `width=${width}, height=${height}, top=${top}, left=${left}`);\n  if (win) {\n    const title = getBodyTitle(authOption);\n    win.document.title = title;\n    win.document.body.innerHTML = spinnerWindowHtml;\n    win.document.body.style.background = themeObj.colors.modalBg;\n    win.document.body.style.color = themeObj.colors.accentText;\n  }\n  // close it when current window is closed or refreshed\n  if (win) {\n    window.addEventListener(\"beforeunload\", () => {\n      win?.close();\n    });\n  }\n  return win;\n}\nconst spinnerWindowHtml = `\n<svg class=\"loader\" viewBox=\"0 0 50 50\">\n  <circle\n    cx=\"25\"\n    cy=\"25\"\n    r=\"20\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"4\"\n  />\n</svg>\n\n<style>\n  body,\n  html {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .loader {\n    width: 50px;\n    height: 50px;\n    animation: spin 2s linear infinite;\n  }\n\n  .loader circle {\n    animation: loading 1.5s linear infinite;\n  }\n\n  @keyframes loading {\n    0% {\n      stroke-dasharray: 1, 150;\n      stroke-dashoffset: 0;\n    }\n    50% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -35;\n    }\n    100% {\n      stroke-dasharray: 90, 150;\n      stroke-dashoffset: -124;\n    }\n  }\n\n  @keyframes spin {\n    100% {\n      transform: rotate(360deg);\n        }\n  }\n</style>\n`;\n//# sourceMappingURL=oauthSignIn.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}