{"ast":null,"code":"import { getClientFetch } from \"../../utils/fetch.js\";\nimport { getPayBuyWithCryptoHistoryEndpoint } from \"../utils/definitions.js\";\n/**\n * Gets the History of purchases for a given wallet address\n * @param params Object of type [`BuyWithCryptoHistoryParams`](https://portal.thirdweb.com/references/typescript/v5/BuyWithCryptoHistoryParams)\n * @example\n *\n * ```ts\n * import { createThirdwebClient } from \"thirdweb\";\n * import { BuyWithCryptoHistoryData } from \"thirdweb/pay\";\n *\n * const client = createThirdwebClient({ clientId: \"...\" });\n * const walletAddress = \"0x...\";\n * const params = {\n *  client,\n *  walletAddress,\n * };\n *\n * // grabs the history of purchase transactions for the wallet address\n * const status = await getBuyWithCryptoHistory(params)\n * ```\n * @returns Object of type [`BuyWithCryptoHistoryData`](https://portal.thirdweb.com/references/typescript/v5/BuyWithCryptoHistoryData)\n * @buyCrypto\n */\nexport async function getBuyWithCryptoHistory(params) {\n  try {\n    const queryParams = new URLSearchParams();\n    queryParams.append(\"walletAddress\", params.walletAddress);\n    queryParams.append(\"start\", params.start.toString());\n    queryParams.append(\"count\", params.count.toString());\n    const queryString = queryParams.toString();\n    const url = `${getPayBuyWithCryptoHistoryEndpoint()}?${queryString}`;\n    const response = await getClientFetch(params.client)(url);\n    // Assuming the response directly matches the SwapResponse interface\n    if (!response.ok) {\n      response.body?.cancel();\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = (await response.json()).result;\n    return data;\n  } catch (error) {\n    throw new Error(`Fetch failed: ${error}`);\n  }\n}\n//# sourceMappingURL=getHistory.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}